<!-- Filler code, ignore this and go to the bottom -->
<!DOCTYPE html>
<title>Example Dot Indicator</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  html, body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; }
 
  .cstate-message a {
    color:   
  }
  @keyframes cstatein {
    0% { opacity: 0; transform: translateY(10%); }
    70% { opacity: 0; transform: translateY(10%); }
    100% { opacity: 100%; transform: translateY(0); }
  }
</style>

<div style="height: 100vh"></div>


<div class="cstate-message" style="
  position: fixed;
  line-height: 1.5;
  max-width: 320px;
  bottom: 5vh;
  left: 5vh;
  animation: cstatein 1s;
  padding: 40px;
  background: #fff;
  border-radius: 6px;
  box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);">
  <div style="font-size: 20px"> 
    <strong>Having issues?</strong>
    <span onclick="this.parentNode.parentNode.remove()" aria-label="button to close dialog" style="font-size: 24px; cursor: pointer; float: right">Ã—</span>
  </div>

  <div style="margin-top: 20px">It looks like there are service disruptions. We apologize for the inconvenience. For more updates, please check
  <a href="#" style="text-decoration: none; border-bottom: 1px solid currentColor; color: #007bff">our status page</a>.</div>
</div>


<!-- Code -->
<script>
// HTML Embed for cState
// Version 2.0
// github.com/cstate/html-embed

// Site + '/index.json'
var cStateAPIRoot = 'https://flamboyant-shirley-6bc75e.netlify.app/index.json'

// Only change this if you are hacking around! :)
var cStateEmbedPrefix = '[cState HTML Embed v2.0] ';
var cStateEmbedDebugging = true;
var cStateAPIStatus = 'tryingToGetStatus';
 
fetch(cStateAPIRoot)
  .then(
    function(response) {
      if (response.status !== 200) {
        console.log(cStateEmbedPrefix + 'API not OK, it sent HTTP status code ' +
          response.status);
        return;
      }

      // Examine the text in the response
      response.json().then(function(data) {
        cStateAPIStatus = data.summaryStatus;

        // When debugging, this code should be run to see API response
        if (cStateEmbedDebugging) {
          console.log(cStateEmbedPrefix + 'API response: ', data);
          console.log(cStateEmbedPrefix + 'API says status page is: ' + cStateAPIStatus);
        }

        // UI code (run even if not debugging)
        // You can change how the dot appears here
        cStateDotTargetElement.style.display = 'inline-block';
        cStateDotTargetElement.style.height = '10px';
        cStateDotTargetElement.style.width = '10px';
        cStateDotTargetElement.style.borderRadius = '50%';
        cStateDotTargetElement.setAttribute('aria-label', 'Status indicator');
        // Sets color and accessible label
        if (cStateAPIStatus === 'ok') {
          cStateDotTargetElement.style.backgroundColor = '#4caf50';
          cStateDotTargetElement.setAttribute('aria-label', 'Green icon indicating no issues');
        } else if (cStateAPIStatus === 'notice') {
          cStateDotTargetElement.style.backgroundColor = '#607d8b';
          cStateDotTargetElement.setAttribute('aria-label', 'Gray icon asking users to check status page');
        } else if (cStateAPIStatus === 'disrupted') {
          cStateDotTargetElement.style.backgroundColor = '#ff9800';
          cStateDotTargetElement.setAttribute('aria-label', 'Orange icon indicating disruptions');
        } else { // down
          cStateDotTargetElement.style.backgroundColor = '#82071e';
          cStateDotTargetElement.setAttribute('aria-label', 'Red icon indicating downtime');
        }

      });
    }
  )
  .catch(function(err) {
    console.log('Fetch error :-S', err);
  });
</script>